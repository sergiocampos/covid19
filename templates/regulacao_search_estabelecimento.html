{% load static %}
{% load staticfiles %}
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
	<title>Registro - Casos COVID19</title>
	<link rel="stylesheet" href="{% static "css/covid.css" %}">

	<script type="text/javascript" src='/static/js/covid.js/'></script>

	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

	<script>

		function activeOutrasComorbidades(){
			if (document.getElementById('outras_comorbidades').checked == true) {
				$("#desc_outras_comorbidades").prop("disabled", false);
				}
				else{
					$("#desc_outras_comorbidades").prop("disabled", true);
					$("#desc_outras_comorbidades").val("");
				}
			}

		function activeOutrasCardiopatias(){
			if (document.getElementById('check_outras_cardiopatias').checked == true) {
				$("#outras_cardiopatias").prop("disabled", false);
			}
			else {
				$("#outras_cardiopatias").val("");
				$("#outras_cardiopatias").prop("disabled", true);
			}
		}

		function activeIdadeGestacional(){
			if (document.getElementById("check_idade_gestacional").checked == true) {
				$("#idade_gestacional").prop("disabled", false);
				$("#gesta_para").prop("disabled", false);
			}
			else {
				$("#idade_gestacional").val("");
				$("#idade_gestacional").prop("disabled", true);
				$("#gesta_para").val("");
				$("#gesta_para").prop("disabled", true);
			}
		}

		function comorbidadesObstetrica(){
	if (document.getElementById("check_comorbidades_obstetrica").checked == true) {
		$("#comorbidades_obstetrica").prop("disabled", false);
	}
	else {
		$("#comorbidades_obstetrica").val("");
		$("#comorbidades_obstetrica").prop("disabled", true);
	}
}

function check_outro_medicamento(){
	if (document.getElementById("outros_medicamento").checked == true) {
		$("#descricao_outro_medicamento").prop("disabled", false);
	}
	else {
		$("#descricao_outro_medicamento").val("");
		$("#descricao_outro_medicamento").prop("disabled", true);
	}
}

function activeDateHeparina(){
	$("#date_inicio_heparina").prop("disabled", false);
	$("#heparina_tipo").prop("disabled", false);
	$("#heparina_dose").prop("disabled", false);
}

function desactiveDateHeparina(){
	$("#heparina_tipo").val("");
	$("#heparina_dose").val("");
	$("#date_inicio_heparina").val("");
	$("#date_inicio_heparina").prop("disabled", true);
	$("#heparina_tipo").prop("disabled", true);
	$("#heparina_dose").prop("disabled", true);

}

function desactiveFoco(){
	$("#foco_pulmonar").prop("disabled", false);
	$("#foco_urinario").prop("disabled", false);
	$("#foco_pele").prop("disabled", false);
	$("#foco_abdominal").prop("disabled", false);
	$("#foco_corrente_sanguinea").prop("disabled", false);
}

function activeFoco(){
	$("#foco_pulmonar").prop("checked", false);
	$("#foco_urinario").prop("checked", false);
	$("#foco_pele").prop("checked", false);
	$("#foco_abdominal").prop("checked", false);
	$("#foco_corrente_sanguinea").prop("checked", false);

	$("#foco_pulmonar").prop("disabled", true);
	$("#foco_urinario").prop("disabled", true);
	$("#foco_pele").prop("disabled", true);
	$("#foco_abdominal").prop("disabled", true);
	$("#foco_corrente_sanguinea").prop("disabled", true);
}

function activeDataColeta(){
	$("#data_coleta").prop("disabled", false);
}

function desactiveDataColeta(){
	$("#data_coleta").val("");
	$("#data_coleta").prop("disabled", true);
}

function activeDoseCorticosteroide(){
	$("#corticosteroide_id").prop("disabled", false);
	$("#data_inicio_corticosteroide_id").prop("disabled", false);
}

function desactiveDoseCorticosteroide(){
	$("#corticosteroide_id").val("");
	$("#data_inicio_corticosteroide_id").val("");
	$("#corticosteroide_id").prop("disabled", true);
	$("#data_inicio_corticosteroide_id").prop("disabled", true);

	$("#lb_data_inicio_corticosteroide_id").hide();
}

function activeDataInicioHC(){
	$("#data_inicio_hidroxicloroquina_id").prop("disabled", false);
}

function desactiveDataInicioHC(){
	$("#data_inicio_hidroxicloroquina_id").val("");
	$("#data_inicio_hidroxicloroquina_id").prop("disabled", true);
}

function dataInicioOseltamivir(){
	$("#data_inicio_oseltamivir_id").prop("disabled", false);
}

function desactiveDataInicioOseltamivir(){
	$("#data_inicio_oseltamivir_id").val("");
	$("#data_inicio_oseltamivir_id").prop("disabled", true);
}

function activeValorGlasgow(){
	if (document.getElementById("check_escala_glasgow").checked == true){
		$("#escala_glasgow_id").prop("disabled", false);
	}
	else {
		$("#escala_glasgow_id").val("");
		$("#escala_glasgow_id").prop("disabled", true);
	}
	
}

function activeBloqueadores(){
	if (document.getElementById("check_bloqueador_neuromuscular_id").checked == true){
		$("#check_midazolam").prop("disabled", false);
		$("#check_fentanil_id").prop("disabled", false);
		$("#check_propofol_id").prop("disabled", false);
		
	}
	else {
		$("#dose_midazolam_id").val("");
		$("#dose_fentanil_id").val("");
		$("#check_midazolam").prop("disabled", true);
		$("#dose_fentanil_id").prop("disabled", true);
		$("#check_midazolam").prop("checked", false);
		$("#dose_midazolam_id").prop("disabled", true);

		$("#check_fentanil_id").prop("checked", false);
		$("#check_fentanil_id").prop("disabled", true);

		$("#dose_propofol_id").val("");
		$("#dose_propofol_id").prop("disabled", true);
		$("#check_propofol_id").prop("checked", false);
		$("#check_propofol_id").prop("disabled", true);
	}

}

function activeDoseMidazolam(){
	if (document.getElementById("check_midazolam").checked == true){
		$("#dose_midazolam_id").prop("disabled", false);
	}
	else {
		$("#dose_midazolam_id").val("");
		$("#dose_midazolam_id").prop("disabled", true);
	}
}

function activeDoseFentanil(){
	if (document.getElementById("check_fentanil_id").checked == true){
		$("#dose_fentanil_id").prop("disabled", false);
	}
	else {
		$("#dose_fentanil_id").val("");
		$("#dose_fentanil_id").prop("disabled", true);
	}
}

function activeDosePropofol(){
	if (document.getElementById("check_propofol_id").checked == true){
		$("#dose_propofol_id").prop("disabled", false);
	}
	else {
		$("#dose_propofol_id").val("");
		$("#dose_propofol_id").prop("disabled", true);
	}
}

//funções para sedação continua

function activeSedacaoContinua(){
	if (document.getElementById("check_sedacao_continua_id").checked == true){
		$("#check_rocuronio_id").prop("disabled", false);
		$("#check_pancuronio_id").prop("disabled", false);
		$("#check_cisatracurio_id").prop("disabled", false);
		
	}
	else {
		$("#check_rocuronio_id").prop("disabled", true);
		$("#check_pancuronio_id").prop("disabled", true);
		$("#check_cisatracurio_id").prop("disabled", true);
		$("#check_rocuronio_id").prop("checked", false);
		$("#check_pancuronio_id").prop("checked", false);
		$("#check_cisatracurio_id").prop("checked", false);

		$("#rocuronio_dose_id").val("");
		$("#rocuronio_dose_id").prop("disabled", true);
		$("#pacuronio_dose_id").val("");
		$("#pacuronio_dose_id").prop("disabled", true);
		$("#cisatracurio_dose_id").val("");
		$("#cisatracurio_dose_id").prop("disabled", true);
	}

}

function activeDoseRocuronio(){
	if (document.getElementById("check_rocuronio_id").checked == true){
		$("#rocuronio_dose_id").prop("disabled", false);
	}
	else {
		$("#rocuronio_dose_id").val("");
		$("#rocuronio_dose_id").prop("disabled", true);
	}
}

function activeDosePacuronio(){
	if (document.getElementById("check_pancuronio_id").checked == true){
		$("#pacuronio_dose_id").prop("disabled", false);
	}
	else {
		$("#pacuronio_dose_id").val("");
		$("#pacuronio_dose_id").prop("disabled", true);
	}
}

function activeDoseCisatracurio(){
	if (document.getElementById("check_cisatracurio_id").checked == true){
		$("#cisatracurio_dose_id").prop("disabled", false);
	}
	else {
		$("#cisatracurio_dose_id").val("");
		$("#cisatracurio_dose_id").prop("disabled", true);
	}
}

function activeValorCn(){
	if (document.getElementById("check_cn_id").checked == true){
		$("#dose_cn_id").prop("disabled", false);
	}
	else {
		$("#dose_cn_id").val("");
		$("#dose_cn_id").prop("disabled", true);
	}
}

function activeValorVenturi(){
	if (document.getElementById("check_venturi_id").checked == true){
		$("#venturi_id").prop("disabled", false);
	}
	else {
		$("#venturi_id").val("");
		$("#venturi_id").prop("disabled", true);
	}
}

function activeDoseNora(){
	if (document.getElementById("check_nora_id").checked == true){
		$("#dose_nora_id").prop("disabled", false);
	}
	else {
		$("#dose_nora_id").val("");
		$("#dose_nora_id").prop("disabled", true);
	}
}

function activeDoseAdrenalina(){
	if (document.getElementById("check_adrenalina_id").checked == true){
		$("#dose_adrenalina_id").prop("disabled", false);
	}
	else {
		$("#dose_adrenalina_id").val("");
		$("#dose_adrenalina_id").prop("disabled", true);
	}
}

function activeDoseVaso(){
	if (document.getElementById("check_vasopressina_id").checked == true){
		$("#dose_vasopressina_id").prop("disabled", false);
	}
	else {
		$("#dose_vasopressina_id").val("");
		$("#dose_vasopressina_id").prop("disabled", true);
	}
}

function activeDoseDobutamina(){
	if (document.getElementById("check_dobutamina_id").checked == true){
		$("#dose_dobutamina_id").prop("disabled", false);
	}
	else {
		$("#dose_dobutamina_id").val("");
		$("#dose_dobutamina_id").prop("disabled", true);
	}
}

function activeLaudoTc(){
	if (document.getElementById("check_tc_torax_id").checked == true){
		$("#laudo_tc_torax_id").prop("disabled", false);
	}
	else {
		$("#laudo_tc_torax_id").val("");
		$("#laudo_tc_torax_id").prop("disabled", true);
	}
}

function activeLaudoRx(){
	if (document.getElementById("check_rx_torax_id").checked == true){
		$("#laudo_rx_torax_id").prop("disabled", false);
	}
	else {
		$("#laudo_rx_torax_id").val("");
		$("#laudo_rx_torax_id").prop("disabled", true);
	}
}



//função cnes
function nomeCnes(){
	if (document.getElementById("field_cnes_id").checked == true){
		$("#nome_paciente_id").prop("disabled", true);
	}
	
}
//Fim Cnes


$(function(){

	var situacoes = [
	"AGUARDANDO CONFIRMAÇÃO DE VAGA",
	"ATUALIZADO SINAIS VITAIS",
	"NEGADO",
	"ÓBITO",
	"OUTROS",
	"PARECER MÉDICO", 
	"SEM CONDIÇÕES DE REMOÇÃO",
	"SEM VAGA",
	"SITUAÇÃO",
	"TRANSPORTE SANITÁRIO",
	];
	$("#situacao_lista_espera_id").autocomplete({
		source:situacoes
		});
});

function activeSituacao(){
	if (document.getElementById("incluir_em_lista_id").checked == true){
		$("#situacao_lista_espera_id").prop("disabled", false);

	}
	else {
		$("#situacao_lista_espera_id").val("");
		$("#situacao_lista_espera_id").prop("disabled", true);
	}
}


function activeAguardVaga(){
	if (document.getElementById("check_paciente_regulado_id").checked == true){
		document.getElementById("status_regulacao").style.display == 'block';
	}
	else {
		document.getElementById("status_regulacao").style.display == 'none';
	}
}


function exibeStatusAguardConfVaga(){
	$("#paciente_regulado_id").show();

	$("#paciente_lista_id").hide();
	$("#ag_conf_vaga").hide();
	$("#paciente_obito_id").hide();

	$("#paciente_internado_id").hide();

	$("#data_obito_id").prop("disabled", true);
	$("#data_obito_id").val("");

	$("#check_obito_id").prop("checked", false);
	$("#check_em_lista_espera_id").prop("checked", false);
	$("#check_internacao_id").prop("checked", false);

}

function ocultaStatusAguardConfVaga(){
	$("#paciente_regulado_id").hide();

}

function activeObito(){
	if (document.getElementById("check_obito_id").checked == true){
		$("#data_obito_id").prop("disabled", false);
		$("#paciente_obito_id").show();
		$("#paciente_regulado_id").hide();
		$("#paciente_lista_id").hide();
		$("#paciente_internado_id").hide();
	}
	else {
		$("#paciente_obito_id").hide();
	}
		
}

function activeEmListaEspera(){
	if (document.getElementById("check_em_lista_espera_id").checked == true){
		$("#paciente_lista_id").show();
		$("#ag_conf_vaga").hide();
		$("#paciente_obito_id").hide();
		$("#paciente_regulado_id").hide();

		$("#paciente_internado_id").hide();

		$("#data_obito_id").prop("disabled", true);
		$("#data_obito_id").val("");
	}
}

function activeInternacao(){
	if (document.getElementById("check_internacao_id").checked == true){
		$("#paciente_internado_id").show();

		$("#paciente_lista_id").hide();
		$("#ag_conf_vaga").hide();
		$("#paciente_obito_id").hide();
		$("#paciente_regulado_id").hide();

		$("#data_obito_id").prop("disabled", true);
		$("#data_obito_id").val("");
	}
}

function activeStatusNaoRegulado(){
	$("#paciente_nao_regulado_id").show();

	//$("#check_paciente_regulado_id").prop("checked", false);
	//$("#check_em_lista_espera_id").prop("checked", false);
	//$("#check_a_c_vaga_id").prop("checked", false);

	//$("#div_paciente_regulado").hide();
	//$("#div_paciente_aguard_lista").hide();
	//$("#div_paciente_aguard_vaga").hide();
}

function activeStatusAguardVaga(){
	$("#paciente_regulado_id").show();

	$("#check_paciente_nao_regulado_id").prop("checked", false);
}

function activeInternacaoImediata(){
	if (document.getElementById("check_internacao_id").checked == true){
		$("#paciente_internado_regulacao_id").show();
	}
	else {
		$("#paciente_internado_regulacao_id").hide();
	}

	$("#data_obito_id").val("");
	
}

function activeStatusObito(){
	if (document.getElementById("check_obito_id").checked == true){
		$("#paciente_obito_regulacao_id").show();
		$("#data_obito_id").prop("disabled", false);
	}
	else {
		$("#paciente_obito_regulacao_id").hide();
		$("#data_obito_id").prop("disabled", true);
		$("#data_obito_id").val("");
	}
	
}

function activeListaEspera(){
	if (document.getElementById("check_em_lista_espera_id").checked == true){
		$("#paciente_lista_regulacao_id").show();
	}
	else {
		$("#paciente_lista_regulacao_id").hide();
	}

	$("#data_obito_id").val("");
	
}

function activeIgGIgM(){
	$("#sars_igg_id").show();
	$("#sars_igm_id").show();

	$("#sars_negativo_id").hide();
	$("#sars_nao_realizado_id").hide();

	$("#check_sars_negativo").prop("checked", false);
	$("#check_sars_nao_realizado").prop("checked", false);

}




	</script>

	<style>
		#sars_igg_id,
		#sars_igm_id {
			display: none;
		}
	</style>

</head>
<body>

	<div class="container">
		<div class="jumbotron">
			<h2>SOLICITAÇÃO DE VAGA PARA LEITO REFERÊNCIA COVID-19</h2>
			<p>
				<ul style="list-style-type: disc;">
					<li>
						Preenchimento digitalizado; caso não seja possível, encaminhar os dados do paciente no corpo do e-
mail para cerh.pb@gmail.com;
					</li>
					<li>
						Preenchimento da ficha com todos os dados disponíveis.
					</li>
					<li>
						Descrever o quadro clínico com a cronologia de início dos sintomas (importante para definir qual melhor
método de diagnóstico de COVID-19);
					</li>
					<li>
						Informar se já foi realizado a coleta de swab SARS-CoV-2 e/ou teste rápido (IgM, IgG);
					</li>
					<li>
						Informar quais medicações administradas no serviço solicitante;
					</li>
					<li>
						Pacientes que estejam sob assistência ventilatória invasiva (intubação orotraqueal) – relatar os
parâmetros de ventilação mecânica atual: PEEP, Ppico, Pplatô, FR, Raw, Cest, FiO2, FR. Também
relatar o uso de sedoanalgesia e drogas vasoativas atuais (dose, em mL/h ou mcg/kg/min ou mcg/min);
					</li>
					<li>
						Descrever os exames laboratoriais realizados na unidade de origem, caso sejam disponíveis:
leucometria, PCR, d-dímero, troponina, TGO, TGP, Ur, Cr, DHL, Bilirrubina total e frações, eletrólitos,
gasometria arterial, lactato sérico, procalcitonina.
					</li>
					<li>
						Após análise dos dados apresentados, o CERH poderá emitir a senha de transferência, que tem duração
máxima de 12h de validação para recepção na unidade solicitante.
					</li>
					
				</ul>
			</p>
		</div>

		<br>
		<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
		  <h2 style="text-align: center; color: white">
		  	CENTRO ESTADUAL DE REGULACAO HOSPITALAR COVID-19 (CERH)
		  </h2>
		</nav><br>
		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-4" style="background-color:;">
					<div style="position: relative; left: 0; top: 20%; width: 100%; text-align: center;">
						<img src="https://docs.google.com/uc?id=1g14C98IyGkVYPNNkoLk20rGYVikptzcC" alt="" style=" background-color: ;width: 70%">
					</div>
				</div>

	      		<div class="col-sm-4" style="">
	      			<div class="col" style="text-align: center;">
	      				<p>GOVERNO DO ESTADO DA PARAÍBA</p>
	      				<p>SECRETARIA DE ESTADO DA SAÚDE</p>
	      				<p></p>
	      				<p><h7><b>Registro de Casos - Perfil Enfermeiro/Médico - {{user}}</b></h7></p>
	      			</div>
	      		</div>
	      		<div class="col-sm-4" style="background-color:;">
	      			<div style="position: relative; left: 0; top: 30%; width: 100%; text-align: center;">
	      				<img src="https://docs.google.com/uc?id=11gNpuLZuHBRHHiSFZxcSp5CGlJla1PEw" alt="" style="background-color: ;width: 70%">
	      			</div>
	      		</div>
	      	</div>
	    <br>
		</div>
		<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
		  <ul class="navbar-nav">
		    <li class="nav-item">
		      <a class="nav-link" href="/">Principal</a>
		    </li>
		    <li class="nav-item">
		      <a class="nav-link" href="/registro_covid/">Registrar Caso</a>
		    </li>
		    <li class="nav-item">
		      <a class="nav-link" href="/regulacao_edit/{{registro.id}}/">Registro/Edição</a>
		    </li>
		    <li class="nav-item">
		      <a class="nav-link active" href="#">Regulação</a>
		    </li>
		    <li class="nav-item">
		      <a class="nav-link" href="/status_registro/{{registro.id}}/">Status</a>
		    </li>
		    <li class="nav-item">
		      <a class="nav-link" href="/search_register/">Localizar</a>
		    </li>
		    <li>
		    	<a class="nav-link" href="/accounts/logout">Sair</a>
		    </li>
		  </ul>
		</nav><hr>

		<form enctype="multipart/form-data" method="POST" action="{% url 'regulacao' registro.id %}?municipio_estabelecimento_referencia={{municipio_estabelecimento_referencia}}">{% csrf_token %}

		<div class="container">

			<p></p>
			<div class="row">
				<div class="col-sm-12">
					Registro:
					<div class="form-check-inline">
						<input type="text" class="form-control form-control-sm" id="" placeholder="" name="num_total_registros" value="{{registro.codigo_registro_total}}{{registro.codigo_registro_mensal}}" disabled>
				    </div>
				    <input type="number" name="last_codigo_mensal" value="{{registro.codigo_registro_mensal}}" hidden>
				    <input type="number" name="last_codigo_total" value="{{registro.codigo_registro_total}}" hidden>
				</div>
			</div><br>
			<div class="row">
			
    			<div class="col-sm-6">
					Nome do Solicitante
					<input type="number" name="registro_id" value="{{registro.id}}" id="" hidden>
					<div class="form-check-inline">
						<input type="text" class="form-control form-control-sm" id="" placeholder="" name="nome_solicitante" size="40" value="{{registro.nome_solicitante}}" disabled>
				    </div>
				</div>

				<div class="col-sm-6">
					Paciente
					<div class="form-check-inline">
						<input type="text" class="form-control form-control-sm" id="" placeholder="" name="nome_paciente" size="40" value="{{registro.nome_paciente}}" disabled>
				    </div>
				</div>
    			
			</div>			
		</div>
		<hr>
		<div class="container" style="">
			<div class="row">
				
				<div class="col-sm-12">
					Estabelecimento Solicitante:
					<div class="form-check-inline" style="width: 70%">
						<input type="text" class="form-control form-control-sm" value="{{registro.estabelecimento_solicitante}}" disabled>
				    </div>
				</div>
				
    			
    			
			</div><br>
			<div class="row">
				<div class="col-sm-6">
    				Idade:
				    <div class="form-check-inline">
				        <input type="number" class="form-control form-control-sm" id="" placeholder="" name="idade_paciente" value="{{registro.idade_paciente}}" min="1" max="200" disabled>
				    </div>
    			</div>
				<div class="col-sm-6">
					Sexo:
					<div class="form-check-inline">
						{% if registro.sexo_paciente == '' or registro.sexo_paciente == None %}
						<select class="form-control form-control-sm" name="sexo_paciente" id="" style="width: 125px" disabled>
							<option value=""></option>
							<option value="MASCULINO">MASCULINO</option>
							<option value="FEMININO">FEMININO</option>
						</select>
					    {%else%}
					    <select class="form-control form-control-sm" name="sexo_paciente" id="" style="width: 125px" disabled>
							<option value="{{registro.sexo_paciente}}" selected>{{registro.sexo_paciente}}</option>
							<option value="MASCULINO">MASCULINO</option>
							<option value="FEMININO">FEMININO</option>
						</select>
					    {%endif%}
					</div>
				</div>
			</div>
			<br>
			<div class="row">
				<div class="col-sm-4" id=""></div>
				<div class="col-sm-4">
					Município do Estabelecimento de Referência:
					<select class="form-control form-control-sm" autofocus="autofocus" name="municipio_estabelecimento_referencia" id="" required>
						{% for m in municipios %}
						<option value="{{m.MUNICIPIO}}">{{m.MUNICIPIO}}</option>
						{%endfor%}
					</select>
				</div>
				<div class="col-sm-4" id=""></div>
				
			</div><br>
			<div class="row">
				<div class="col-sm-4"></div>
				<div class="col-sm-4">
					<div class="container-fluid" style="text-align: center;">
						<button type="submit" class="btn btn-primary" style="align-items: center;" id="btn_inserir_paciente">Pesquisar Estabelecimento</button>  
				    </div>
				</div>
				<div class="col-sm-4" id=""></div>
			</div>
			<hr>

	   </div>

	    <div style="height: 50px"></div>


		</form>
	</div>

	<div style="background-color: #e6e6e6;">
		
			<br /><br />
		
	</div>
	
</body>
</html>